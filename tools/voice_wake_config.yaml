# 语音唤醒服务配置
# 版本: 1.0.0

# 基本配置
service:
  name: "OpenClawVoiceWake"
  display_name: "OpenClaw 语音唤醒服务"
  description: "提供语音唤醒和命令识别功能"
  working_dir: "C:\Users\A\.openclaw\workspace"
  
# 语音识别配置
asr:
  model_path: "C:\Users\A\.openclaw\models\vosk-cn"
  sample_rate: 16000
  channels: 1
  blocksize: 8000
  
# 唤醒词配置
wake:
  phrases:
    - "小九"
    - "你好小九" 
    - "小酒"
    - "hi 小九"
    - "hey 小九"
  cooldown: 2.0  # 唤醒冷却时间（秒）
  confidence_threshold: 0.7  # 唤醒置信度阈值
  
# 命令模式配置
command:
  timeout: 8.0  # 命令模式超时时间（秒）
  grammar: null  # 命令语法限制（null表示自由识别）
  
# 音频设备配置
audio:
  device: null  # 音频设备ID（null表示默认设备）
  latency: "high"  # 延迟设置：low/medium/high
  dtype: "int16"
  
# 日志配置
logging:
  level: "INFO"  # DEBUG/INFO/WARNING/ERROR/CRITICAL
  file: "logs/voice_wake.log"
  max_size_mb: 10
  backup_count: 7
  console: true
  
# 性能配置
performance:
  enable_energy_detection: true  # 启用能量检测节省资源
  energy_threshold: 0.01
  enable_partial_results: true  # 启用部分结果加速响应
  max_restarts: 10  # 最大重启次数
  
# 命令处理配置
commands:
  # 状态检查
  check_status:
    enabled: true
    triggers: ["检查状态", "系统状态", "状态检查"]
    script: "tools/daily_check_asr_tts.py"
    
  # 笔记管理
  add_note:
    enabled: true
    triggers: ["添加笔记", "记一下", "记录"]
    function: "note_add"
    
  # 日历查看
  check_calendar:
    enabled: true
    triggers: ["查看日历", "今天日程", "有什么安排"]
    function: "calendar_check"
    
  # 搜索功能
  search:
    enabled: false  # 暂时禁用，等待web_search修复
    triggers: ["搜索", "查找", "查一下"]
    function: "web_search"
    
  # 音乐控制
  music:
    enabled: true
    triggers: ["播放音乐", "暂停音乐", "下一首"]
    function: "spotify_control"
    
  # 系统控制
  system:
    enabled: true
    triggers: ["停止", "退出", "取消"]
    action: "stop"
    
# 集成配置
integration:
  openclaw:
    enabled: true
    api_url: "http://localhost:8080/api"
    session_id: "voice_control"
    
  telegram:
    enabled: false  # 暂不启用
    bot_token: ""
    chat_id: ""
    
# 安全配置
security:
  require_wake_for_commands: true  # 命令前必须唤醒
  max_command_length: 100  # 最大命令长度
  allowed_commands: ["check_status", "add_note", "music"]  # 允许的命令
  
# 测试模式
test_mode:
  enabled: false  # 启用测试模式（不依赖实际音频）
  simulate_input: true  # 模拟输入
  test_scenarios:
    - input: "小九"
      expected: "wake"
    - input: "检查状态"
      expected: "command"
    - input: "添加笔记测试语音功能"
      expected: "command"
      
# 监控配置
monitoring:
  health_check_interval: 300  # 健康检查间隔（秒）
  metrics_enabled: true
  metrics_port: 9090
  
# 更新配置
update:
  auto_check: true
  check_interval: 86400  # 每天检查一次
  notify_on_update: true