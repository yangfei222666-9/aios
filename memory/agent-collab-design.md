# Agent 协作场景：代码审查流程

## 场景设计

一个完整的代码审查流程，需要多个 Agent 协作：

### 流程图
```
coder (写代码)
    ↓
reviewer-1 (功能审查)
    ↓
reviewer-2 (安全审查)
    ↓
tester (测试验证)
    ↓
analyst (生成报告)
```

### Agent 角色

1. **coder** (opus)
   - 任务：实现一个功能
   - 输出：代码文件

2. **reviewer-1** (sonnet)
   - 任务：审查代码功能和逻辑
   - 输出：功能审查报告

3. **reviewer-2** (sonnet)
   - 任务：审查代码安全性
   - 输出：安全审查报告

4. **tester** (sonnet)
   - 任务：编写并运行测试
   - 输出：测试结果

5. **analyst** (sonnet)
   - 任务：汇总所有审查结果
   - 输出：最终审查报告

### 协作机制

- **顺序执行**：每个 Agent 等待前置 Agent 完成
- **结果传递**：通过文件系统共享结果
- **投票机制**：2 个 reviewer 都通过才继续
- **失败处理**：任何环节失败都终止流程

### 测试任务

让 coder 实现一个简单的密码强度检查器，然后走完整个审查流程。
